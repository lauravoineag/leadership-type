<!doctype html>
<html>
<head>
<title>Prismic Example page</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"></script>
</head>
<body>
    <main id = "main">
        <h1 id="title_tag"></h1>
    </main>

<script>
    var promiseOfResponse = axios.get('https://jyre-engineering-recruitment.prismic.io/api/v2/documents/search?ref=YZfPZBIAACwAxBNJ&access_token=MC5ZWmZRVEJJQUFDMEF4QmVF.Me-_vUfvv71QJAoT77-9Pe-_ve-_vXLvv71j77-977-9TTzvv73vv73vv73vv73vv70OXhFpdlDvv73vv70');
    promiseOfResponse.then((response) => {
        console.log(response)
        setTitleH1(response)
        createDescription(response)
    });

    function setTitleH1(response) {
        const title =response.data.results[0].data.title[0].text
        // go to title tag & insert the title from response
        document.getElementById("title_tag").innerHTML = title; 
    };

    function createTag(text) {
        const div = document.createElement("div");
        div.className = "media"//created class for media
        const description = document.createTextNode(text);

        div.appendChild(description);

        const main = document.getElementById("main");
        main.appendChild(div);
    }; 

    function createDescription(response) {
        const types = response.data.results[0].data.types;// types is an array

        for(let i=0; i < types.length; i++) {
            const name = types[i].name[0].text; //bring name of every type

            createTag(name);
        }
    };
</script>
</body>
</html>