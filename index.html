<!doctype html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="styling.css">
<title>Prismic Example page</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"></script>
</head>
<body>
    <main id = "main">
        <h1 id="title_tag"></h1>
    </main>

<script>
    var promiseOfResponse = axios.get('https://jyre-engineering-recruitment.prismic.io/api/v2/documents/search?ref=YZfPZBIAACwAxBNJ&access_token=MC5ZWmZRVEJJQUFDMEF4QmVF.Me-_vUfvv71QJAoT77-9Pe-_ve-_vXLvv71j77-977-9TTzvv73vv73vv73vv73vv70OXhFpdlDvv73vv70');
    promiseOfResponse.then((response) => {
        console.log(response)
        setTitleH1(response)
        createType(response)
        colourType(response)
        createDescription(response)
        createImage(response)
    });

    function setTitleH1(response) {
        const title =response.data.results[0].data.title[0].text
        // go to title tag & insert the title from response
        document.getElementById("title_tag").innerHTML = title; 
    };

    function createTag(text) {
        const div = document.createElement("div");
        div.className = "media"//created class for media
        const description = document.createTextNode(text);

        div.appendChild(description);

        const main = document.getElementById("main");
        main.appendChild(div);
    }; 

    function createType(response) {
        const types = response.data.results[0].data.types;// types is an array
        for(let i=0; i < types.length; i++) {
            const types2 = types[i].name[0].text; //bring name of every type

            createTag(types2);
        }
    };

    function createDescription(response) {
        const descriptionType = response.data.results[0].data.types[0].description;// description is an array
        
        for(let i=0; i < descriptionType.length; i++) {
            const description = descriptionType[i].text;

            createTag(description);
        }
    };

    function createImage(response) {
        const imageType =response.data.results[0].data.types;
        for(let i=0; i < imageType.length; i++) {
            const imageType2 = imageType[i].exemplar_image.url;
            
            createTag(imageType2);    
        }
    }


    function colourType(response) {
      const colour =response.data.results[0].data.types;
        for (let i = 0; i <colour.length; i++) {
           const colour2 = colour[i].colour
            
           createTag(colour2);
          //const allElements = document.getElementsByClassName('media');
        }
};
</script>
</body>
</html>